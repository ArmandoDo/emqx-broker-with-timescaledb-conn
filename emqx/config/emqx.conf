## Place read-only configurations in this file.
## To define configurations that can later be overridden through UI/API/CLI, add them to `etc/base.hocon`.
##
## Config precedence order:
##   etc/base.hocon < cluster.hocon < emqx.conf < environment variables
##
## See https://docs.emqx.com/en/emqx/v5.8/ for more information.
## Configuration full example can be found in etc/examples

## Cluster settings
cluster.discovery_strategy  = "manual"
# cluster.name              = ${EMQX_CLUSTER__NAME}


## Node settings
node.data_dir = "data"
# node.name   = ${EMQX_NODE__NAME}
# node.cookie = ${EMQX_NODE__COOKIE}

## Listeners settings
listeners.tcp.default.bind  = 1883
listeners.ws.default.bind   = 8083

## Authentication settings
authentication = [
  {
    mechanism = "password_based"
    backend   = "built_in_database"
  }
]

## Authorization settings
authorization.deny_action = "ignore"
authorization.no_match    = "deny"
authorization.sources = [
    {
      type    = "file"
      enable  = "true"
      path    = "etc/acl.conf"
    }
  ]

## Dashboard settings
dashboard.listeners.http.bind = 18083
# dashboard.default_password  = ${EMQX_DASHBOARD__DEFAULT_PASSWORD}

## Log settings
log.console.formatter         = "json"
log.console.time_offset       = "system"
log.console.timestamp_format  = "auto"
# log.console.level           = ${EMQX_LOG__CONSOLE__LEVEL}

# MQTT session persistence
# durable_sessions.enable                 = "true"  # Enables session durability.
durable_sessions.message_retention_period = "24h"   # Defines the retention periodockerd of MQTT messages in durable sessions.
durable_sessions.batch_size               = 100     # Controls the maximum size of message batches consumed from the storage.
durable_sessions.idle_poll_interval       = "5s"    # Controls the frequency of querying the storage for new messages by durable sessions.
